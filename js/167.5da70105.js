"use strict";(self["webpackChunkstandart_project"]=self["webpackChunkstandart_project"]||[]).push([[167],{4167:function(t,r,a){a.r(r),a.d(r,{default:function(){return H}});var e=a(6252),c=a(9963),s=a(3577);const l={class:"page catalog"},i={class:"catalog__container-menu"},o={class:"catalog__span catalog__span_col"},u={class:"select"},n={class:"catalog__span"},d={class:"catalog__current-product"},_={class:"catalog__container-img"},p=["src","alt"],g={class:"catalog__container-info"},h={class:"catalog__title"},m={class:"catalog__description"},y={class:"catalog__category"},C={class:"catalog__category"},P={class:"catalog__num-page"},v={class:"catalog__span catalog__span_quantity"},w={class:"catalog__quantity"},A={class:"catalog__total"},k={class:"catalog__container-products"};function f(t,r,f,S,O,V){const Q=(0,e.up)("v-select"),z=(0,e.up)("v-product");return(0,e.wg)(),(0,e.iD)("section",l,[(0,e._)("div",i,[(0,e._)("span",o,[(0,e.Wm)(Q,{array:t.getAllCategory,modelValue:t.curCategory,"onUpdate:modelValue":r[0]||(r[0]=r=>t.curCategory=r)},null,8,["array","modelValue"]),(0,e.Wm)(Q,{array:t.getAllAgeLimit,modelValue:t.curAgeRest,"onUpdate:modelValue":r[1]||(r[1]=r=>t.curAgeRest=r),prefix:"+"},null,8,["array","modelValue"]),(0,e._)("div",u,[(0,e._)("p",{class:"select__title",onClick:r[2]||(r[2]=(...t)=>V.reset&&V.reset(...t))},"Сброс")])]),(0,e._)("span",n,[(0,e.wy)((0,e._)("input",{class:"catalog__input",type:"text",placeholder:"Enter manga name","onUpdate:modelValue":r[3]||(r[3]=r=>t.curSearch=r)},null,512),[[c.nr,t.curSearch]]),(0,e._)("button",{class:"catalog__btn",onClick:r[4]||(r[4]=(...t)=>V.search&&V.search(...t))},"search")]),(0,e._)("div",d,[(0,e._)("div",_,[(0,e._)("img",{class:"catalog__img",src:a(5459)(`./${this.curProd.img}`),alt:t.curProd.img},null,8,p)]),(0,e._)("div",g,[(0,e._)("h1",h,(0,s.zw)(this.curProd.title),1),(0,e._)("p",m,(0,s.zw)(this.curProd.description),1),(0,e._)("p",y,"Стоимость за шт: "+(0,s.zw)(this.curProd.price)+"$",1),(0,e._)("p",C,"Категория: "+(0,s.zw)(this.curProd.category.name),1),(0,e._)("p",P,"Возростное ограничение: "+(0,s.zw)(this.curProd.ageLimit.name)+"+",1),(0,e._)("span",v,[(0,e._)("p",{class:"catalog__plus",onClick:r[5]||(r[5]=(...t)=>V.plus&&V.plus(...t))},"+"),(0,e._)("p",w,(0,s.zw)(this.curQuantity),1),(0,e._)("p",{class:"catalog__minus",onClick:r[6]||(r[6]=(...t)=>V.minus&&V.minus(...t))},"-"),(0,e._)("p",A,"Общая цена: "+(0,s.zw)(this.totalSum)+"$",1)]),(0,e._)("button",{class:"catalog__btn_opt",onClick:r[7]||(r[7]=(...t)=>V.pushCart&&V.pushCart(...t))},"Купить")])])]),(0,e._)("div",k,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.productArr,(r=>((0,e.wg)(),(0,e.j4)(z,{key:r,onClick:a=>(V.selectProd(r),t.curQuantity=1),el:r},null,8,["onClick","el"])))),128))])])}const S={class:"product"},O=["src","alt"],V=(0,e._)("span",{class:"product__info"},[(0,e._)("h1",{class:"product__title"},"CLICK")],-1);function Q(t,r,c,s,l,i){return(0,e.wg)(),(0,e.iD)("div",S,[(0,e._)("img",{class:"product__img",src:a(5459)(`./${c.el.img}`),alt:c.el.img},null,8,O),V])}var z={name:"vProduct",props:{el:{required:!0,type:Object}},data:()=>({}),watch:{},methods:{},computed:{},created(){}},q=a(3744);const I=(0,q.Z)(z,[["render",Q]]);var b=I;const D={class:"select"},L={key:0,class:"select__list"},R=["onClick"];function j(t,r,a,c,l,i){return(0,e.wg)(),(0,e.iD)("div",D,[(0,e._)("p",{class:"select__title",onClick:r[0]||(r[0]=r=>t.isOpen=!t.isOpen)},(0,s.zw)(a.modelValue),1),(0,e._)("p",{class:(0,s.C_)(["select__arrow",{active:t.isOpen}]),onClick:r[1]||(r[1]=r=>t.isOpen=!t.isOpen)},"+",2),t.isOpen?((0,e.wg)(),(0,e.iD)("div",L,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.array,(r=>((0,e.wg)(),(0,e.iD)("p",{onClick:a=>(t.$emit("update:modelValue",r.name),t.isOpen=!t.isOpen),class:(0,s.C_)(["select__option",{active:a.modelValue===r.name}]),style:(0,s.j5)({"--color":r.color}),key:r},(0,s.zw)(r.name)+(0,s.zw)(a.prefix),15,R)))),128))])):(0,e.kq)("",!0)])}var x={name:"vSelect",props:{array:{required:!0,type:Array},prefix:{required:!1,type:String},modelValue:{type:String}},data:()=>({isOpen:!1}),watch:{},methods:{}};const $=(0,q.Z)(x,[["render",j]]);var K=$,U=a(3907),Z={name:"CatalogView",data:()=>({curAgeRest:"Возраст",curCategory:"Категория",productArr:null,curSearch:null,curQuantity:1,curProd:null}),watch:{curCategory(){this.productArr=this.validProduct},curAgeRest(){this.productArr=this.validProduct}},methods:{...(0,U.OI)(["addProdInCart","setError"]),selectProd(t){this.curProd=t},plus(){this.curQuantity+1>=this.curProd.quantityStore?this.curQuantity=this.curProd.quantityStore:this.curQuantity++},minus(){this.curQuantity-1<=1?this.curQuantity=1:this.curQuantity--},reset(){this.productArr=this.validProduct,this.curCategory="Категория",this.curAgeRest="Возраст",this.curSearch=""},pushCart(){const t=this.getAllProductInCart.find((t=>t.id===this.curProd.id));t||this.addProdInCart({quantity:this.curQuantity,...this.curProd})},search(){this.productArr=this.validProduct,this.productArr=this.productArr.filter((t=>t.title.toLowerCase().includes(this.curSearch.toLowerCase())))}},computed:{...(0,U.Se)(["getAllProductInCart","getAllAgeLimit","getAllCategory","getAllProduct"]),selectedOption(){return this.options[this.selectedOptionIndex]},totalSum(){return this.curProd.price*this.curQuantity},validProduct(){let t=this.getAllProduct;return"Категория"!==this.curCategory&&(t=t.filter((t=>t.category.name===this.curCategory))),"Возраст"!==this.curAgeRest&&(t=t.filter((t=>t.ageLimit.name>=this.curAgeRest))),t}},components:{"v-product":b,"v-select":K},created(){const t=localStorage.getItem("current-prod");this.curProd=t?JSON.parse(t):this.getAllProduct[0],this.productArr=this.validProduct},mounted(){}};const E=(0,q.Z)(Z,[["render",f]]);var H=E}}]);
//# sourceMappingURL=167.5da70105.js.map
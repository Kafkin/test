(function(){var e={16:function(e,t,r){"use strict";var o=r(9963),n=r(6252);const a={key:0,class:"loader"},i=(0,n._)("figure",null,[(0,n._)("div"),(0,n._)("div"),(0,n._)("div"),(0,n._)("div"),(0,n._)("div"),(0,n._)("div"),(0,n._)("div"),(0,n._)("div")],-1),s=[i],c={key:1,class:"header"},l={class:"header__nav"},u={class:"header__nav-auth"};function d(e,t,r,o,i,d){const p=(0,n.up)("v-error"),m=(0,n.up)("router-link"),g=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[e.isLoading?((0,n.wg)(),(0,n.iD)("div",a,s)):(0,n.kq)("",!0),(0,n.Wm)(p,{modelValue:e.getGroupError,"onUpdate:modelValue":t[0]||(t[0]=t=>e.getGroupError=t)},null,8,["modelValue"]),e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("header",c,[(0,n._)("nav",l,[(0,n.Wm)(m,{class:"header__nav-link",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Главная")])),_:1}),(0,n.Wm)(m,{class:"header__nav-link",to:"/about"},{default:(0,n.w5)((()=>[(0,n.Uk)("О магазине")])),_:1}),e.isAdmin?((0,n.wg)(),(0,n.j4)(m,{key:0,class:"header__nav-link",to:"/admin"},{default:(0,n.w5)((()=>[(0,n.Uk)("Админка")])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(m,{class:"header__nav-link",to:"/catalog"},{default:(0,n.w5)((()=>[(0,n.Uk)("Каталог")])),_:1}),e.getAllProductInCart.length?((0,n.wg)(),(0,n.j4)(m,{key:1,class:"header__nav-link",to:"/cart"},{default:(0,n.w5)((()=>[(0,n.Uk)("Корзина")])),_:1})):(0,n.kq)("",!0),(0,n._)("span",u,[e.isAuth?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(m,{key:0,class:"header__nav-link",to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Логин")])),_:1})),e.isAuth?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(m,{key:1,class:"header__nav-link",to:"/registration"},{default:(0,n.w5)((()=>[(0,n.Uk)("Регистрация")])),_:1}))])])])),e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(g,{key:2}))],64)}r(7658);var p=r(3577);function m(e,t,r,o,a,i){return r.modelValue.errors.length?((0,n.wg)(),(0,n.iD)("div",{key:0,style:(0,p.j5)({"--color":r.modelValue.color}),onClick:t[0]||(t[0]=(...t)=>e.resetError&&e.resetError(...t)),class:"error"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.modelValue.errors,(e=>((0,n.wg)(),(0,n.iD)("p",{key:e,class:"error__message"},(0,p.zw)(e),1)))),128))],4)):(0,n.kq)("",!0)}var g=r(3907),h={name:"vError",props:{modelValue:{required:!0,type:Object}},methods:{...(0,g.OI)(["resetError"])}},f=r(3744);const v=(0,f.Z)(h,[["render",m]]);var _=v,k=r(3229),w={name:"App",data:()=>({isLoading:!0}),watch:{},methods:{...(0,g.nv)(["getAllCategory","getAllAgeLimit","renderCards","getAllCard"]),...(0,g.OI)(["setUser"])},computed:{...(0,g.Se)(["getAllProductInCart","getGroupError","isAdmin","isAuth"])},components:{"v-error":_},created(){localStorage.removeItem("current-prod");const e=localStorage.getItem("user");e&&this.setUser(JSON.parse(e)),this.getAllCategory(),this.getAllAgeLimit(),this.getAllCard()},mounted(){setTimeout((()=>{this.isLoading=!1}),3e3),k.Z.push("/")}};const A=(0,f.Z)(w,[["render",d]]);var y=A,b=r(5695);(0,o.ri)(y).use(b.Z).use(k.Z).mount("#app")},3229:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var o=r(2201),n=r(6252),a=r(9963);const i={class:"page home"},s={key:0,class:"home__info"},c=(0,n._)("h1",{class:"home__title"},"Интернет магазин манги",-1),l=(0,n._)("p",{class:"home__description"},"@Manaba - это крупнейший магазин манги в России и СНГ. Лучшая манга для вас и ваших друзей. Мы предоставляем удобный поисковик и огромный ассортимент манги разных жанров и возрастов. Не верите? Убедитесь сами!",-1),u=[c,l],d=(0,n._)("div",{class:"home__line home__line_first"},null,-1),p=(0,n._)("div",{class:"home__line home__line_second"},null,-1),m={key:0,class:"home__info home__info_two"},g=(0,n._)("h1",{class:"home__title"},"Интернет магазин манги",-1),h=(0,n._)("p",{class:"home__description home__description_two"},"@Manaba - это крупнейший магазин манги в России и СНГ. Лучшая манга для вас и ваших друзей. Мы предоставляем удобный поисковик и огромный ассортимент манги разных жанров и возрастов. Не верите? Убедитесь сами!",-1),f=[g,h];function v(e,t,r,o,c,l){const g=(0,n.up)("v-carousel");return(0,n.wg)(),(0,n.iD)("section",i,[(0,n.Wm)(a.uT,{name:"homeInfo"},{default:(0,n.w5)((()=>[e.posTrack>=-20?((0,n.wg)(),(0,n.iD)("div",s,u)):(0,n.kq)("",!0)])),_:1}),d,p,(0,n.Wm)(a.uT,{name:"homeInfo"},{default:(0,n.w5)((()=>[e.posTrack<=-85?((0,n.wg)(),(0,n.iD)("div",m,f)):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(g,{modelValue:e.posTrack,"onUpdate:modelValue":t[0]||(t[0]=t=>e.posTrack=t)},null,8,["modelValue"])])}function _(e,t,r,o,a,i){const s=(0,n.up)("v-card");return(0,n.wg)(),(0,n.iD)("div",{class:"carousel-container",onMouseup:t[2]||(t[2]=(...e)=>this.handleOnUp&&this.handleOnUp(...e)),onTouchend:t[3]||(t[3]=(...e)=>this.handleOnUp&&this.handleOnUp(...e)),onMousemove:t[4]||(t[4]=(...e)=>this.handleOnMove&&this.handleOnMove(...e)),onTouchmove:t[5]||(t[5]=(...e)=>this.handleOnMove&&this.handleOnMove(...e))},[(0,n._)("div",{class:"carousel-container__card-track",ref:"track",onMousedown:t[0]||(t[0]=(...e)=>i.handleOnDown&&i.handleOnDown(...e)),onTouchstart:t[1]||(t[1]=e=>i.handleOnDownTouch(e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getAllDiscount,((e,t)=>((0,n.wg)(),(0,n.j4)(s,{key:t,onDetailed:i.detailed,el:e},null,8,["onDetailed","el"])))),128))],544)],32)}r(7658);var k=r(3577);const w={class:"card"},A=["src","alt"],y={class:"card__info"},b={class:"card__title"},j={class:"card__description"};function O(e,t,o,a,i,s){return(0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("img",{class:"card__img",src:r(5459)(`./${o.el.img}`),alt:o.el.img},null,8,A),(0,n._)("span",y,[(0,n._)("h1",b,(0,k.zw)(o.el.title),1),(0,n._)("p",j,(0,k.zw)(o.el.description),1),(0,n._)("button",{class:"card__btn",onClick:t[0]||(t[0]=t=>e.$emit("detailed",o.el))},"подробнее")])])}var C={name:"vCard",props:{el:{required:!0,type:Object}},data:()=>({}),watch:{},methods:{},computed:{},created(){}},D=r(3744);const E=(0,D.Z)(C,[["render",O]]);var T=E,L=r(3907),U={props:{modelValue:{required:!0,type:Number}},data:()=>({mouseDownAt:0,prevPercentage:0,percentage:0}),methods:{handleOnDown(e){this.mouseDownAt=e.clientX},handleOnDownTouch(e){this.mouseDownAt=e.touches[0].clientX},handleOnUp(){this.mouseDownAt=0,this.prevPercentage=this.percentage},handleOnMove(e){if(0===this.mouseDownAt)return;const t=parseFloat(this.mouseDownAt)-e.clientX,r=window.innerWidth/2,o=t/r*-100,n=parseFloat(this.prevPercentage)+o,a=Math.max(Math.min(n,0),-100);this.percentage=a,this.$refs.track.animate({transform:`translate(${a}%, -50%)`},{duration:5e3,fill:"forwards"}),this.$emit("update:modelValue",a)},detailed(e){localStorage.setItem("current-prod",JSON.stringify(e)),N.push("/catalog")}},computed:{...(0,L.Se)(["getAllDiscount"])},components:{"v-card":T},mounted(){}};const P=(0,D.Z)(U,[["render",_]]);var S=P,x={name:"HomeView",data:()=>({posTrack:0}),watch:{},methods:{},computed:{},components:{"v-carousel":S},created(){}};const I=(0,D.Z)(x,[["render",v]]);var M=I,q=r(5695);const Z=[{path:"/",name:"home",component:M,meta:{isAuth:!1}},{path:"/about",name:"about",component:()=>r.e(449).then(r.bind(r,2449)),meta:{isAuth:!1}},{path:"/admin",name:"admin",component:()=>r.e(267).then(r.bind(r,2267)),meta:{isAuth:!0,isAdmin:!0}},{path:"/catalog",name:"catalog",component:()=>r.e(167).then(r.bind(r,4167)),meta:{isAuth:!1}},{path:"/cart",name:"cart",component:()=>r.e(833).then(r.bind(r,2833)),meta:{isEmpty:!0}},{path:"/login",name:"login",component:()=>r.e(591).then(r.bind(r,6591)),meta:{isAuth:!1,isAuthShow:!0}},{path:"/registration",name:"registration",component:()=>r.e(694).then(r.bind(r,3694)),meta:{isAuth:!1,isAuthShow:!0}}],V=(0,o.p7)({history:(0,o.PO)("/test/"),routes:Z});V.beforeEach(((e,t,r)=>{const o=q.Z.getters.getAllProductInCart,n=q.Z.getters.isAdmin,a=q.Z.getters.isAuth;e.meta.isAuth&&!a||e.meta.isAdmin&&!n||e.meta.isAuthShow&&a||e.meta.isEmpty&&!o.length?r("/"):r()}));var N=V},5695:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var o=r(3907),n={mutations:{resetError(e){e.errors=[],e.code=200},setError:(e,t)=>{e.errors=Object.values(t.message),e.code=t.code}},state:{errors:[],code:200},getters:{getGroupError:e=>({errors:e.errors.flat(1),color:e.code>201?"red":"green"})}};r(7658);const a=async(e,t)=>{const r=await fetch(e,{headers:{"Content-Type":"application/json"},body:JSON.stringify(t),method:"POST"});return await r.json()},i=async(e,t=null)=>{const r=t?await fetch(e):await fetch(`${e}?${t}`);return await r.json()};var s=r(3229),c={actions:{login:async({commit:e},t)=>{const r=await a("http://kkk/public/api/login",t);r?.error?e("setError",r.error):(e("setError",{message:{success:["Добро пожаловать. Вы успешно вошли в аккаунт! (-_-)/"]},code:200}),localStorage.setItem("user",JSON.stringify(r)),e("setUser",r))},registration:async({commit:e},t)=>{const r=await a("http://kkk/public/api/registration",t);r?.error?e("setError",r.error):(e("setError",{message:{success:["Добро пожаловать. Вы успешно зарегались и вошли в аккаунт! (-_-)/"]},code:200}),e("setUser",r))}},mutations:{setUser(e,t){e.user=t,s.Z.push("/")}},state:{user:null},getters:{isAuth:e=>!!e.user,isAdmin:e=>"admin"===e?.user?.role}},l={actions:{getAllCategory:async({commit:e})=>e("setAllCategory",await i("http://kkk/public/api/category/all")),updateDbCategory:async({commit:e},t)=>{const r=await a("http://kkk/public/api/category/update",t);r?.error&&e("setError",r.error),e("setAllCategory",r.categories),e("setAllCard",r.products)},deleteCategoryInDb:async({commit:e},t)=>{const r=await a("http://kkk/public/api/category/delete",t);r?.error&&e("setError",r.error),r?.categories&&e("setAllCategory",r?.categories),r?.products&&e("setAllCard",r?.products)},getAllAgeLimit:async({commit:e})=>e("setAllAgeLimit",await i("http://kkk/public/api/agelimit/all")),updateDbAgeLimit:async({commit:e},t)=>{const r=await a("http://kkk/public/api/agelimit/update",t);r?.error&&e("setError",r.error),e("setAllAgeLimit",r.agelimits),e("setAllCard",r.products)},deleteAgeLimitInDb:async({commit:e},t)=>{const r=await a("http://kkk/public/api/agelimit/delete",t);r?.error&&e("setError",r.error),r?.agelimits&&e("setAllAgeLimit",r?.agelimits),r?.products&&e("setAllCard",r?.products)},renderCards:async({commit:e},t)=>e("setAllCard",await a("http://kkk/public/api/products/create",t)),getAllCard:async({commit:e})=>e("setAllCard",await i("http://kkk/public/api/products/all")),updateDbProduct:async({commit:e},t)=>{const r=await a("http://kkk/public/api/products/update",t);r?.error&&e("setError",r.error),e("setAllCard",r.products)},deleteProductInDb:async({commit:e},t)=>{const r=await a("http://kkk/public/api/products/delete",t);r?.error&&e("setError",r.error),r?.products&&e("setAllCard",r.products),r?.error&&e("setError",r.error)}},mutations:{setAllCard(e,t){e.products=t},setAllCategory(e,t){e.category=t},setAllAgeLimit(e,t){e.ageLimit=t},addProdInCart(e,t){e.cart.push(t)},clearCart(e){e.cart=[]}},state:{products:[],category:[],ageLimit:[],cart:[]},getters:{getAllProductInCart(e){return e.cart},getAllAgeLimit(e){return e.ageLimit},getAllCategory(e){return e.category},getAllDiscount(e){return e.products.slice(0,7)},getAllProduct(e){return e.products}}},u=(0,o.MT)({modules:{error:n,user:c,card:l}})},5459:function(e,t,r){var o={"./eight.jpg":2544,"./five.jpg":7315,"./four.jpg":1409,"./nine.jpg":9880,"./one.jpg":8772,"./seven.jpg":3675,"./six.jpg":3662,"./ten.jpg":9083,"./three.jpg":6683,"./two.jpg":7946};function n(e){var t=a(e);return r(t)}function a(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=5459},2544:function(e,t,r){"use strict";e.exports=r.p+"img/eight.2ab94423.jpg"},7315:function(e,t,r){"use strict";e.exports=r.p+"img/five.c3b25d5c.jpg"},1409:function(e,t,r){"use strict";e.exports=r.p+"img/four.8907a1b2.jpg"},9880:function(e,t,r){"use strict";e.exports=r.p+"img/nine.cd16f0bc.jpg"},8772:function(e,t,r){"use strict";e.exports=r.p+"img/one.492fdd7a.jpg"},3675:function(e,t,r){"use strict";e.exports=r.p+"img/seven.f8cfe4d1.jpg"},3662:function(e,t,r){"use strict";e.exports=r.p+"img/six.ccd6ac69.jpg"},9083:function(e,t,r){"use strict";e.exports=r.p+"img/ten.274e2f3b.jpg"},6683:function(e,t,r){"use strict";e.exports=r.p+"img/three.86838f59.jpg"},7946:function(e,t,r){"use strict";e.exports=r.p+"img/two.52229a83.jpg"}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,a){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],a=e[u][2];for(var s=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[c])}))?o.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,n,a]}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,o){return r.f[o](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+e+"."+{167:"5da70105",267:"64d65678",449:"b32f9d3a",591:"03f264de",694:"d6a76cea",833:"fe441d9d"}[e]+".js"}}(),function(){r.miniCssF=function(e){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="standart-project:";r.l=function(o,n,a,i){if(e[o])e[o].push(n);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=o),e[o]=[n];var p=function(t,r){s.onerror=s.onload=null,clearTimeout(m);var n=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/test/"}(),function(){var e={143:0};r.f.j=function(t,o){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise((function(r,o){n=e[t]=[r,o]}));o.push(n[2]=a);var i=r.p+r.u(t),s=new Error,c=function(o){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}};r.l(i,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,i=o[0],s=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(c)var u=c(r)}for(t&&t(o);l<i.length;l++)a=i[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},o=self["webpackChunkstandart_project"]=self["webpackChunkstandart_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(16)}));o=r.O(o)})();
//# sourceMappingURL=app.e5099d41.js.map